import requests
import json


TOKEN = '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
PREFIXES = ['GENERATOR', 'LEETCODE', 'HEXNUMBER','ITERATOR', 'TRIANGLE', 'REQUESTS']
GROUPS = ['1011','1012','1021','1022']
ACTION = ['Added','Deleted','Refactored','Fixed']


def prepare_headers ():
    return {
      'Authorization': 'Token {}'.format(TOKEN),
      'Content-Type': "application/json"
      'Accept': "application/vnd.github.v3+json
    }
    

def check_prefixes(title):
    errors = ''
    act = title.split()[1]
    group = title.split('-')[1].split()[0]
    prefix = title.split('-')[0]
    if not pref in PREFIX:
        errors += "Prefix must be one of the following {}.\n".format(PREFIX)
    if not group in GROUP:
        errors += "Group must be one of the following {}. \n".format(GROUP)
    if not act in ACTION:
        errors += "Action must be on of the following {}. \n".format(ACTION)
    return errors


def get_all_user_pr(user_login, repo_name, pr_state): 
   pulls = requests.get('https://api.github.com/repos/{}/{}/pulls?state={}'.format(user_login, repo_name, pr_state), 
                         headers = prepare_headers())
   return pulls
  
  
